# Rest API на PHP
## Развёртывание проекта 
Развёртывается çпомощью докер файла. На компьютере с установленым докером для запуска проекта требуется выполнить команду в директории с репозиторием
```shell
docker-compose up --build
```
После успешного развёртывания докера все сервисы будут доступны на порту **8081**, среда phpMyAdmin на порту **9000**.
Для успешноно развёртывания файла необходимо, чтобы оба эти порта были свободны.

Для инициализации базы данных необходимо выполнить скрипт **notes_db_vk.sql** в среде **phpMyAdmin**.

Данные для входа в phpMyAdmin:

**server** mysql_db

**user** root

**password** {Оставить пустым}

## Доступные сервисы 
**GET** http://localhost:8081/php_rest/documentation/ - **Swagger** документация проекта и всех серивсов 

**POST** http://localhost:8081/php_rest/user/register - сервис для регистрации нового пользователя

**POST** http://localhost:8081/php_rest/user/login - сервис для авторизации существующего пользователя

**GET** http://localhost:8081/php_rest/note/?id={?} - сервис для получения заметки по id

**PUT** http://localhost:8081/php_rest/note/?id={?} - сервис для редактирования заметки по id. Обязательно предъявление авторизационного токена

**DELETE** http://localhost:8081/php_rest/note/?id={?} - сервис для удаления заметки по id. Обязательно предъявление авторизационного токена

**POST** http://localhost:8081/php_rest/note - сервис для получения заметок по фильтру

**POST** http://localhost:8081/php_rest/note/new - сервис для создания новой заметки. Обязательно предъявление авторизационного токена

Подробнее почитать о сервисах и требуемых аргументах, а также протестировать их можно с помощью Swagger документации.
## База данных 
База данных организована с помощью СУБД MySQL. Представляет из себя 3 таблицы

**note** - информация о заметках

**user** - информация о пользователях (пароли пользователей хранятся в хешированном виде)

**token** - инофрмация о токенах авторизации и сроках их действия

Все данные о времени в базе данных в московском часовом поясе **(UTC+3)**
### Схема базы данных
![image](https://github.com/Gosyaa/php_rest_Docker/assets/90693716/507ea4ad-4b79-4ab4-8501-83201e730a35)
